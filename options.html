<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Email Phishing Extension Options</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    label { display: block; margin-top: 12px; }
    input[type="text"], input[type="password"] { width: 100%; padding: 8px; box-sizing: border-box; }
    button { margin-top: 20px; padding: 8px 16px; }
  </style>
</head>
<body>
  <h1>Extension Settings</h1>
  <p>
    Configure the API endpoint and key used for AI‑powered phishing analysis. The endpoint should accept OpenAI‑style chat completion requests. Your key will be stored locally on your machine using Chrome's sync storage.
  </p>
  <form id="optionsForm">
    <label>
      <input type="checkbox" id="enableAI" checked> Enable AI Analysis
    </label>
    <p style="font-size: 12px; color: #666; margin: 5px 0 15px 20px;">
      When disabled, only heuristic analysis will be used (faster, more private)
    </p>
    
    <div id="aiSettings">
      <fieldset style="margin: 15px 0; padding: 10px; border: 1px solid #ccc;">
        <legend>Endpoint Type</legend>
        <label style="display: inline-block; margin-right: 20px;">
          <input type="radio" name="endpointType" value="openai"> OpenAI-style API
        </label>
        <label style="display: inline-block;">
          <input type="radio" name="endpointType" value="fastapi"> Local FastAPI Endpoint
        </label>
      </fieldset>
      
      <label>
        API Endpoint
        <input type="text" id="apiEndpoint" placeholder="http://10.1.141.6:8002">
      </label>
      <p id="endpointNote" style="font-size: 12px; color: #666; margin: 5px 0;">For FastAPI endpoints, provide the base URL (e.g., http://localhost:8000)</p>
      
      <label>
        API Key
        <input type="password" id="apiKey" placeholder="sk-...">
      </label>
      <p id="apiKeyNote" style="font-size: 12px; color: #666; margin: 5px 0;">Not needed for local FastAPI endpoints.</p>
      
      <label>
        Model (optional)
        <input type="text" id="model" placeholder="gpt-4o-mini">
      </label>
      <p style="font-size: 12px; color: #666; margin: 5px 0;">Model name for OpenAI-style APIs. Ignored for FastAPI endpoints.</p>
    </div>
    <button type="submit">Save</button>
    <span id="status" style="margin-left: 10px;"></span>
  </form>
  <script src="options.js"></script>
</body>
</html>